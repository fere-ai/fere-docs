---
id: 10-buy-tokens
title: "Create a Buy for the agent"
description: "Creates a buy instruction for the agent."
sidebar_label: "Create a Buy for the agent"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: docs/api/Monk/0-xmonk
custom_edit_url: null
proxy: https://api.fereai.xyz/ta
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Create a Buy for the agent"}
>
</Heading>

<MethodEndpoint
  method={"post"}
  path={"/agent/{agent_id}/buy/"}
  context={"endpoint"}
>
  
</MethodEndpoint>



Creates a buy instruction for the agent.

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
>
</Heading>

<ParamsDetails
  parameters={[{"name":"agent_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Agent Id"}},{"name":"x-fere-userid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Fere-Userid"}},{"name":"x-auth-tg-userid","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"X-Auth-Tg-Userid"}}]}
>
  
</ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{"required":true,"content":{"application/json":{"schema":{"properties":{"send_notification":{"anyOf":[{"type":"string","enum":["telegram","mail"]},{"type":"null"}],"title":"Send Notification.","description":"Send Notification to the user. This can be either `telegram` or `mail`.\n    "},"ca":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Contract Address.","description":"Contract Address of the token to buy. When this is provided\n    we will find the pool which has the pair with native currency of the chain\n    and use that pool to buy from."},"value_usd":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Value in USD.","description":"Value in USD to buy the tokens. If this is provided then\n    the `quantity` will be calculated based on this value.\n    "},"slippage":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Slippage.","description":"Slippage tolerance for the trade. This is the maximum\n    percentage by which the trade can deviate from the current price.\n    ","default":2},"rebuy":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Rebuy.","description":"If True, the agent will rebuy the token even if it's already\n    bought. This is useful when the agent wants to increase the holding of the token.or when the user is manually rebuying again."}},"type":"object","title":"AgentBuyRequest"}}}}}
>
  
</RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"properties":{"detail":{"items":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"}}}}}}
>
  
</StatusCodes>


      